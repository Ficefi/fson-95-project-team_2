{"version":3,"file":"commonHelpers.js","sources":["../src/js/fetchAPI.js","../src/js/modal_window.js","../src/js/renderFood.js","../src/js/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport { getAllProducts, getCategoriesProducts, getDiscountProducts,\n  getPopularProducts, getProductById, createNewOrder, sendSubscription };\n\nasync function getAllProducts() {\n  const response = await axios.get(\n    'https://food-boutique.b.goit.study/api/products',\n  );\n  return response.data;\n}\n\nasync function getPopularProducts() {\n  const response = await axios.get(\n    'https://food-boutique.b.goit.study/api/products/popular',\n  );\n  return response.data;\n}\n\nasync function getDiscountProducts() {\n  const response = await axios.get(\n    'https://food-boutique.b.goit.study/api/products/discount',\n  );\n  return response.data;\n}\n\nasync function getCategoriesProducts() {\n  const response = await axios.get(\n    'https://food-boutique.b.goit.study/api/products/categories',\n  );\n  return response.data;\n}\n\nasync function getProductById(id) {\n  const response = await axios.get(\n    `https://food-boutique.b.goit.study/api/products/${id}`,\n  );\n  return response.data;\n}\n\nasync function createNewOrder(email, productList) {\n\n  try {\n    const apiUrl = 'https://food-boutique.b.goit.study/api/orders';\n    const requestBody = {\n      email: email,\n      products: productList,\n    };\n    const response = await axios.post(apiUrl, requestBody);\n      return response.data;\n\n  } catch (e) {\n    console.log(\"Something went wrong:\" + \" \" + e)\n    throw e;\n  }\n}\n\nasync function sendSubscription(email){\n\n  try {\n\n  const apiUrl = 'https://food-boutique.b.goit.study/api/subscription'\n  const requestBody = { email: email }\n\n  const response = await axios.post(apiUrl, requestBody)\n  return response.data\n  } catch(e) {\n    console.log(\"Something went wrong:\" + \" \" + e)\n    throw e;\n  }\n\n}","import { getProductById } from './fetchAPI.js';\nimport { addToStorageCart, removeFromStorageCart, isExistInCart} from './localStorage.js';\n\nconst modal = document.querySelector('.js-modal');\nconst content = document.querySelector('.modal-content');\n\nexport async function openModal(id) {\n\n  ////////MODAL SHOW////////\n  modal.classList.toggle('is-hidden');\n\n  //ADD MARKUP FOR MODAL WINDOW///////\n\n  await getProductById(id).then(response => {\n    const { img, name, desc, category, size, popularity, price } = response;\n\n    content.innerHTML = `<div class='image-wrap'>\n   <button class='modal-close-btn' data-modal-close aria-label='close modal button'>\n        <svg class='modal-window-close-button' width='15' height='15'>\n          <use href='./img/icons.svg#icon-close-btn'></use>\n        </svg>\n      </button>\n    <img src='${img}' alt='${desc}' class='modal-img'>\n    </div>\n    <div class='modal-descr-together'>\n    <div class='modal-descr-container'>\n    <h2 class='modal-name'>${name}</h2>\n    <div class='modal-text-wrapper'>\n    <p class='modal-text'>Category:<p class='modal-text-descr'>${String(category).replace('_', ' ')}</p>\n    <p class='modal-text'>Size:<p class='modal-text-descr'>${size}</p>\n    <p class='modal-text'>Popularity:<p class='modal-text-descr'>${popularity}</p>\n    </div>\n    </div>\n    <p class='modal-descr'>${desc}</p>\n    </div>\n    <div class='modal-floor-wrap'>\n    <p class='modal-price'>$${price}</p>\n    <button type='submit' class='modal-cart-btn'>Add to\n        <svg class='modal-window-cart-button' width='18' height='18'>\n          <use href='./img/icons.svg#icon-cart'></use>\n        </svg></button>\n    </div>\n\n  `;\n\n    ////////MODAL CLOSE LOGIC///////\n\n    window.addEventListener('keydown', handlePress);\n\n    function handlePress(e) {\n      if (e.key === 'Escape') {\n        modal.classList.add('is-hidden');\n      }\n    }\n\n    window.onclick = function(event) {\n      if (event.target === modal) {\n        modal.classList.add('is-hidden');\n      }\n    };\n\n    const closeBtn = document.querySelector('.modal-close-btn');\n    closeBtn.addEventListener('click', closeModal);\n    function closeModal(event) {\n      if (event.currentTarget === closeBtn) {\n        modal.classList.add('is-hidden');\n      }\n    }\n\n    /////////////////ADD TO CART LOGIC///////////////\n\n    const addToCart = document.querySelector('.modal-cart-btn');\n    addToCart.addEventListener('click', handleCart);\n\n\n    if (isExistInCart(id)) {\n        addToCart.childNodes[0].data = \"Remove from\"\n        addToCart.style.minWidth = '175px';\n    }\n\n\n    function handleCart(e) {\n      if (isExistInCart(id)) {\n        removeFromStorageCart(id)\n        addToCart.childNodes[0].data = \"Add to\"\n        addToCart.style.minWidth = '130px';\n      }\n      else {\n\n        addToStorageCart(id)\n        addToCart.childNodes[0].data = \"Remove from\"\n        addToCart.style.minWidth = '175px';\n      }\n    }\n\n\n  });\n}","import { getAllProducts } from './fetchAPI';\n\nconst list = document.querySelector('.list-product');\n\nfunction renderFood() {\n  getAllProducts()\n    .then(foodImages => {\n      createmarkup(foodImages.results);\n    })\n    .catch(error => {\n      throw new Error(error);\n    });\n}\n\nfunction createmarkup(array) {\n  const markup = array\n    .map(({ name, img, category, price, size, popularity }) => {\n      return `\n        <li class=\"item-product\">\n          <div class=\"product-container\">\n            <img class=\"img-product\" src=\"${img}\" width=\"400\" height=\"200\">\n            <h2 class=\"caption-product\">${name}</h2>\n            <div class=\"features-container\">\n                <p class=\"feature\">Category: <span class=feature-black>${category}</span></p>\n                <p class=\"feature\">Size: <span class=feature-black>${size}</span></p>\n                <p class=\"feature popularity\">Popularity: <span class=feature-black>${popularity}</span></p>\n            </div>\n            <div class=\"sell-container\">\n                <p class=\"price-product\">$${price}</p>\n                <div class=\"svg-container\">\n                    <svg class=\"svg\" width=\"18\" height=\"18\">\n                    <use href=\"./img/icons.svg#icon-cart\"></use>\n                    </svg>\n                </div>  \n            </div>\n          </div>\n        </li>\n        `;\n    })\n    .join('');\n  list.insertAdjacentHTML('beforeend', markup);\n}\n\nexport { renderFood };\n","import './fetchAPI.js';\nimport './localStorage.js';\nimport './pagination.js';\nimport './modal_window.js';\nimport { renderFood } from './renderFood.js';\n\nrenderFood();\n"],"names":["getAllProducts","axios","list","renderFood","foodImages","createmarkup","error","array","markup","name","img","category","price","size","popularity"],"mappings":"ivBAKA,eAAeA,GAAiB,CAI9B,OAHiB,MAAMC,EAAM,IAC3B,iDACJ,GACkB,IAClB,CCPc,SAAS,cAAc,WAAW,EAChC,SAAS,cAAc,gBAAgB,ECFvD,MAAMC,EAAO,SAAS,cAAc,eAAe,EAEnD,SAASC,GAAa,CACpBH,EAAgB,EACb,KAAKI,GAAc,CAClBC,EAAaD,EAAW,OAAO,CACrC,CAAK,EACA,MAAME,GAAS,CACd,MAAM,IAAI,MAAMA,CAAK,CAC3B,CAAK,CACL,CAEA,SAASD,EAAaE,EAAO,CAC3B,MAAMC,EAASD,EACZ,IAAI,CAAC,CAAE,KAAAE,EAAM,IAAAC,EAAK,SAAAC,EAAU,MAAAC,EAAO,KAAAC,EAAM,WAAAC,KACjC;AAAA;AAAA;AAAA,4CAG+BJ;AAAA,0CACFD;AAAA;AAAA,yEAE+BE;AAAA,qEACJE;AAAA,sFACiBC;AAAA;AAAA;AAAA,4CAG1CF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAUvC,EACA,KAAK,EAAE,EACVV,EAAK,mBAAmB,YAAaM,CAAM,CAC7C,CCnCAL,EAAY"}